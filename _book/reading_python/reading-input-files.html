<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>File Reading | Meteorological Computer Applications</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    
    <link rel="prev" href="../reading_python/reading-input-commandline.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="5.2" data-basepath=".." data-revision="1496172339003">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Cover Page
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="introduction/README.html">
            
                
                    <a href="../introduction/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Introduction
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="introduction/introduction.html">
            
                
                    <a href="../introduction/introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Overview
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="fortran_structure/README.html">
            
                
                    <a href="../fortran_structure/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Introduction to Fortran
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="fortran_structure/fortran-code-program.html">
            
                
                    <a href="../fortran_structure/fortran-code-program.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         About Program Code
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="fortran_structure/fortran-program-elements.html">
            
                
                    <a href="../fortran_structure/fortran-program-elements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Program Elements
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="fortran_structure/fortran-compiling.html">
            
                
                    <a href="../fortran_structure/fortran-compiling.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Creating, Compiling, Running Code
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="fortran_structure/fortran-datatypes.html">
            
                
                    <a href="../fortran_structure/fortran-datatypes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         Defining Data Types
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="fortran_structure/fortran-variable-assignment.html">
            
                
                    <a href="../fortran_structure/fortran-variable-assignment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         Variable Assignment
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.6" data-path="fortran_structure/fortran-math.html">
            
                
                    <a href="../fortran_structure/fortran-math.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                         Math Operators and Some Functions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.7" data-path="fortran_structure/fortran-input-output.html">
            
                
                    <a href="../fortran_structure/fortran-input-output.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                         Simple Input/Output
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.8" data-path="fortran_structure/fortran-file-input-output.html">
            
                
                    <a href="../fortran_structure/fortran-file-input-output.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                         File Input/Output
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="fortran_selective_execution/README.html">
            
                
                    <a href="../fortran_selective_execution/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Fortran Selective Execution
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="fortran_selective_execution/fortran-logical-expressions.html">
            
                
                    <a href="../fortran_selective_execution/fortran-logical-expressions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Logical Expressions
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="python_syntax/README.html">
            
                
                    <a href="../python_syntax/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Basic Python Syntax
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="python_syntax/math-operations.html">
            
                
                    <a href="../python_syntax/math-operations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Mathematical and Logical Operations
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="python_syntax/if-then.html">
            
                
                    <a href="../python_syntax/if-then.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         If/Then Statements
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="reading_python/README.html">
            
                
                    <a href="../reading_python/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Reading in Python
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="reading_python/reading-input-commandline.html">
            
                
                    <a href="../reading_python/reading-input-commandline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Commandline Reading
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="5.2" data-path="reading_python/reading-input-files.html">
            
                
                    <a href="../reading_python/reading-input-files.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                         File Reading
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Meteorological Computer Applications</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_23">
                    
                        <h2 id="reading-from-a-file">Reading From a File</h2>
<p>To open a file in a Python program you need to use an open command, which is similar to the one used in Fortran. The open command needs to be set to a variable name (sometimes called a handle), which will have attributes that you will use to read from that particular file. This handle is similar to the unit number used in Fortran to identify the read file.</p>
<p>In Python and open command for writing and reading are given below:</p>
<pre><code class="lang-py">infile = open(<span class="hljs-string">'input.txt'</span>, <span class="hljs-string">'r'</span>)
</code></pre>
<p>The variable name <code>infile</code> identifies the file (<code>input.txt</code>) within the program and with the <code>&#39;r&#39;</code> signifies that we are opening the file to read. To open a file for writing you would use the same construct but change the <code>&#39;r&#39;</code> to <code>&#39;w&#39;</code> which will open a file for writing to it. You can also open a file with read and write permissions with <code>&#39;rw&#39;</code>.</p>
<p>To read a line we have a slightly different command in Python. If we want to read from the infile variable defined above, then we would issue the following command in our program:</p>
<pre><code class="lang-py">infile.readline()
</code></pre>
<p>This will read exactly one line from our file (infile) and be ready to read the next line down if we were to call <code>infile.readline()</code> again. This is the same as the Fortran READ statement. For every readline() that is called in Python, it will read one line and move down to the next line ready to read again.</p>
<p>If <code>input.txt</code> contained the following data:</p>
<pre><code class="lang-text">35
48
81
78
30
</code></pre>
<p>the first instance of <code>infile.readline()</code> would read the value 35, the second would move down one line and read the value 48, etc. Again these values will be strings and can be easily converted to another datatype as need using Python&#39;s built-in methods. If there are multiple lines, it is best to use a loop to read into a list or array.</p>
<p>A different method in Python is that you can read all of the lines at once using the following command:</p>
<pre><code class="lang-py">infile.readlines()
</code></pre>
<p>This is a nice feature, but it acts a little differently than the readline() command. It will read all of the lines in at once and create a list of strings. One downside of reading by this method is that trailing newline (<code>\n</code>) character will remain with the read in value (e.g., &#39;35\n&#39;).</p>
<p>Here is an example script reading in a series of temperatures from the file (<code>input.txt</code>).</p>
<pre><code class="lang-py"><span class="hljs-comment"># This program reads input from 'input.txt'</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># By: Kevin Goebbert</span>

<span class="hljs-comment"># The following line will open the file that we wish to read in and use in the program.</span>
infile = open(<span class="hljs-string">'input.txt'</span>,<span class="hljs-string">'r'</span>)

<span class="hljs-comment"># This line will read in one line from the file, split the line on the commas</span>
<span class="hljs-comment"># and assign the values to the variables on the left hand side. Note that you</span>
<span class="hljs-comment"># can put all five variables on the left hand side.</span>
tmpf1 = infile.readline()
tmpf2 = infile.readline()
tmpf3 = infile.readline()
tmpf4 = infile.readline()
tmpf5 = infile.readline()

<span class="hljs-comment"># This line closes the file for reading.</span>
infile.close()

<span class="hljs-comment"># This series converts the read in temperatures from strings to floats</span>
tmpf1 = float(tmpf1)
tmpf2 = float(tmpf2)
tmpf3 = float(tmpf3)
tmpf4 = float(tmpf4)
tmpf5 = float(tmpf5)

tmpc1 = (<span class="hljs-number">5</span>/<span class="hljs-number">9</span>)*(tmpf1 - <span class="hljs-number">32</span>)
tmpc2 = (<span class="hljs-number">5</span>/<span class="hljs-number">9</span>)*(tmpf2 - <span class="hljs-number">32</span>)
tmpc3 = (<span class="hljs-number">5</span>/<span class="hljs-number">9</span>)*(tmpf3 - <span class="hljs-number">32</span>)
tmpc4 = (<span class="hljs-number">5</span>/<span class="hljs-number">9</span>)*(tmpf4 - <span class="hljs-number">32</span>)
tmpc5 = (<span class="hljs-number">5</span>/<span class="hljs-number">9</span>)*(tmpf5 - <span class="hljs-number">32</span>)

<span class="hljs-comment"># This is my code from the Fortran program, unchanged,</span>
<span class="hljs-comment"># to calculate the different temperatures and compute the means!</span>
tmpk1 = <span class="hljs-number">273.15</span> + tmpc1
tmpk2 = <span class="hljs-number">273.15</span> + tmpc2
tmpk3 = <span class="hljs-number">273.15</span> + tmpc3
tmpk4 = <span class="hljs-number">273.15</span> + tmpc4
tmpk5 = <span class="hljs-number">273.15</span> + tmpc5

meanc = (tmpc1 + tmpc2 + tmpc3 + tmpc4 + tmpc5)/<span class="hljs-number">5.</span>
meanf = (tmpf1 + tmpf2 + tmpf3 + tmpf4 + tmpf5)/<span class="hljs-number">5.</span>
meank = (tmpk1 + tmpk2 + tmpk3 + tmpk4 + tmpk5)/<span class="hljs-number">5.</span>

<span class="hljs-comment"># Printing some output to the screen for your viewing pleasure!</span>
print(<span class="hljs-string">"The original temperatures in Fahrenheit were: "</span>)
print(tmpf1, tmpf2, tmpf3, tmpf4, tmpf5)
print(<span class="hljs-string">"The converted temperatures in Celsius are: "</span>)
print(tmpc1, tmpc2, tmpc3, tmpc4, tmpc5)
print(<span class="hljs-string">"The converted temperatures in Kelvin are: "</span>)
print(tmpk1, tmpk2, tmpk3, tmpk4, tmpk5)
print(<span class="hljs-string">"The mean temperature in Celsius is: "</span>+str(meanc))
print(<span class="hljs-string">"The mean temperature in Fahrenheit is: "</span>+str(meanf))
print(<span class="hljs-string">"The mean temperature in Kelvin is: "</span>+str(meank))
</code></pre>
<p>which gives the output</p>
<pre><code class="lang-linux">The original temperatures in Fahrenheit were:
35.0 48.0 81.0 78.0 30.0
The converted temperatures in Celsius are:
1.6666666666666667 8.88888888888889 27.222222222222225 25.555555555555557 -1.1111111111111112
The converted temperatures in Kelvin are:
274.81666666666666 282.0388888888889 300.3722222222222 298.7055555555555 272.0388888888889
The mean temperature in Celsius is: 12.444444444444445
The mean temperature in Fahrenheit is: 54.4
The mean temperature in Kelvin is: 285.59444444444443
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../reading_python/reading-input-commandline.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Commandline Reading"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
